define(["app/view/templateStore","app/view/textDescriptor"],function(e,n){var t={expandList:function(e,n){var t=null,a=e.element;n=n||"",t=n.split(".");for(var i=0;i<t.length-1;i++){var o="";o=t.slice(0,i+1).join("."),a=a.find('a[href="#'+o+'"]').closest(".k-item"),e.expand(a)}return a.find('a[href="#'+n+'"]').addClass("k-state-selected").closest(".k-item")}},a={treeview:function(e){var n=this.menuElement.getKendoTreeView();n.select(t.expandList(n,e))},menu:function(e){},panelbar:function(e){var n=this.menuElement.getKendoPanelBar();n.select(t.expandList(n,e))}},i=function(t){var a=this;this.$container=$(t.container),this.APIManager=t.APIManager,this.textDescriptor=n,this.initializeView();try{this.templates=new e}catch(e){console.error(e),this.displayMessage("Error occured while registering templates. Please check console for more details!!!")}this.$container.on("click",function(e){var n=$(e.target).data("action");n&&a.APIManager.APIManagerController.triggerEvent(n,e)})};return i.prototype.initializeView=function(){var e="rgb(196, 196, 196)",n=$("<div>").addClass("popUpWindow");$("<h1>").addClass("mainHeader").text(this.APIManager.appSettings.getAppSettings().AppHeader||"API").appendTo($("<div>").addClass("headerContainer").appendTo(this.$container)),this.mainMenuContainer=$("<div>").addClass("mainMenuContainer").append([$("<div>").addClass("mainMenuElement"),$("<span>").addClass("exportControl").data("action","loadExportWindow").attr("title","Export To File")]).appendTo(this.$container);var t=$("<div>").addClass("spliterPanel").appendTo(this.$container);this.menuElement=$("<div>").addClass("menuElement").appendTo(t),this.mainContainer=$("<div>").addClass("mainContainer").appendTo(t),t.kendoSplitter({orientation:"horizontal",panes:[{collapsible:!1,resizable:!1,size:"20%"},{collapsible:!1,resizable:!1}]}),this.menuElement.niceScroll({bouncescroll:!0,cursorcolor:e,autohidemode:!1,grabcursorenabled:!1}),this.mainContainer.niceScroll({bouncescroll:!0,cursorcolor:e,autohidemode:!1,grabcursorenabled:!1}),n.kendoWindow({actions:["Close"],modal:!0,resizable:!1,width:500,height:150}),this.popUpWindow=n.data("kendoWindow")},i.prototype.createSubMenu=function(e){if(e){var n={animation:{collapse:{duration:100,effects:"collapseVertical"},expand:{duration:100,effects:"expandVertical"}},dataSource:e};switch(this.APIManager.appSettings.getAppSettings().MenuType){case"kendoPanelBar":this.menuElement.kendoPanelBar(n);break;case"kendoMenu":this.menuElement.kendoMenu(n);break;default:this.menuElement.kendoTreeView(n)}}},i.prototype.createMainMenu=function(e){var n={animation:{collapse:{duration:100,effects:"collapseVertical"},expand:{duration:100,effects:"expandVertical"}},dataSource:e};this.mainMenuContainer.find(".mainMenuElement").kendoMenu(n)},i.prototype.adjustScroll=function(e){var n,t;t=this.$container.find("h3[data-name="+e+"]"),this.mainContainer.scrollTop({top:0}),n=t.length?t.position().top:0,this.mainContainer.scrollTop(n)},i.prototype.displayMessage=function(e,n){this.popUpWindow.content("<span>"+e+"</span>"),this.popUpWindow.element.addClass("ErrorWindow"),this.popUpWindow.setOptions({title:n||"Atert!!!"}),this.popUpWindow.open().center()},i.prototype.markSelectedMainMenu=function(e){var n="selected",t=this.mainMenuContainer.find('.mainMenuElement .k-item .k-link[href="?menu='+e+'"]').closest(".k-item");t.addClass(n)},i.prototype.expandSubMenu=function(e){var n=this.menuElement.data("role");a[n]&&a[n].call(this,e)},i.prototype.loadWindow=function(e,n){this.popUpWindow.content(e),this.popUpWindow.element.removeClass("ErrorWindow"),this.popUpWindow.setOptions({title:n||"Atert!!!"}),this.popUpWindow.open().center()},i});