define(function(){var e={parseObjectLink:function(e){var a=e.split("."),t=[],n=[];if("#"==a[0].charAt(0)&&(a[0]=a[0].slice(1,a[0].length)),t.push(a[0]),a.length>1&&(t.push(a[1]),a.length>2)){for(var r=2;r<a.length;r++)n.push(a[r]);n=n.join(".")}return t=t.join("."),{primaryLink:t,secondaryLink:n,scrollToProperty:a[a.length-1],templatePath:e}},isPrimaryObjectPathChanged:function(e,a){var t=[],n=[];if(!e)return!0;t=e.split("."),n=a.split(".");for(var r=0;r<2;r++)if(t[r]!=n[r])return!0;return!1}},a=function(a){if(a.parsedLink=e.parseObjectLink.call(this,a.contentPath),a.isPrimaryObjectPathChanged){var t=this.APIManager.APIManagerModel.getSelectedDataObject(),n="";a.dataObject=this.APIManager.APIManagerModel.getObjectByPath(t,a.parsedLink.primaryLink);try{a.dataObject&&(n=this.APIManager.APIManagerView.templates.renderTemplate(a.templatePath,a))}catch(e){console.error(e),this.APIManager.APIManagerView.displayMessage("Error occured while loading template. Please check console for more details!!!")}n&&(this.APIManager.APIManagerView.mainContainer.html(""),this.APIManager.APIManagerView.mainContainer.html(n))}this.APIManager.APIManagerView.adjustScroll(a.parsedLink.scrollToProperty),this.APIManager.APIManagerView.mainContainer.find("a[href^=http]").attr("target","_blank").addClass("externalLink")},t={Default:function(e,t,n){a.call(this,_.extend({},{APIManager:this.APIManager,e:e,templatePath:this.APIManager.appSettings.getAppSettings().TemplatePath,contentPath:t},n))},EnterpriseManager:function(e,t,n){a.call(this,_.extend({},{APIManager:this.APIManager,e:e,templatePath:this.APIManager.appSettings.getAppSettings().TemplatePath,contentPath:t},n))},hashChanged:function(a){var n=this;try{var r=document.URL.match(/([?]menu)*?=[^&#]*/g),i=r?r[0].split("=")[1]:n.APIManager.appSettings.getAppSettings().DefaultMainMenu,l=a.prevHash,s=a.newHash;s&&(t[i]?t[i].call(n,a,s,{isPrimaryObjectPathChanged:e.isPrimaryObjectPathChanged(s,l)}):(console.warn("There is no Event handler defined for this module!!!"),t.Default.call(this,null,s,{isPrimaryObjectPathChanged:!0})),n.APIManager.APIManagerView.expandSubMenu(s))}catch(e){console.error(e),n.APIManager.APIManagerView.displayMessage("Error occured while loading content. Please check console for more details!!!")}},loadExportWindow:function(e){var a=this;a.APIManager.APIManagerView.loadWindow(a.APIManager.APIManagerView.templates.renderTemplate("exportForm.html"),"Export To File")},exportToFile:function(e){var a=this.APIManager.APIManagerView.popUpWindow,t=a.element.find("input[name=ExportAllData]").is(":checked"),n=t?"":this.hashHandler.getHash();this.APIManager.APIManagerModel.buildFileToExport(n)}};return t});